<div class="loader" ng-show="$ctrl.loadRequestInProgress"></div>

<zem-infobox-header class="zem-infobox-header" entity="$ctrl.entity"></zem-infobox-header>

<div class="zem-infobox__content custom-scroller">
    <div ng-if="$ctrl.delivery" class="zem-infobox__delivery zem-infobox-data-row"
        ng-class="{
            'zem-infobox__delivery--active': $ctrl.delivery.status === 'active' || $ctrl.delivery.status === 'manual' || $ctrl.delivery.status === 'manual-price-discovery',
            'zem-infobox__delivery--autopilot': $ctrl.delivery.status === 'autopilot' || $ctrl.delivery.status === 'automatic',
            'zem-infobox__delivery--inactive': $ctrl.delivery.status === 'inactive',
            'zem-infobox__delivery--paused': $ctrl.delivery.status === 'stopped',
            'zem-infobox__delivery--landing-mode': $ctrl.delivery.status === 'landing-mode',
        }">
        <div class="zem-infobox-data-row__value-label">Delivery:</div>
        <div class="zem-infobox-data-row__value-container">
            <span class="zem-infobox__delivery-icon"></span>
            <span class="zem-infobox__delivery-text zem-infobox-data-row__value">{{$ctrl.delivery.text}}</span>
        </div>
    </div>
    <zem-infobox-data-row ng-repeat="row in $ctrl.basicSettings"
                          class="zem-infobox-data-row"
                          row="row"
                          is-internal="{{row.internal}}">
    </zem-infobox-data-row>
    <hr ng-if="$ctrl.performanceSettings" class="zem-infobox__content-separator" />
    <zem-infobox-data-row ng-repeat="row in $ctrl.performanceSettings"
                          class="zem-infobox-data-row zem-infobox-data-row--exposed"
                          row="row"
                          is-internal="{{row.internal}}">
    </zem-infobox-data-row>
    <hr ng-if="$ctrl.hasPermission('zemauth.can_see_history_in_drawer') && $ctrl.isEntityAvailable" class="zem-infobox__content-separator" />
    <a ng-if="$ctrl.hasPermission('zemauth.can_see_history_in_drawer') && $ctrl.isEntityAvailable" class="alternative-link link-with-icon history-icon"
       ng-click="$ctrl.openHistory()" is-internal="zemauth.can_see_history_in_drawer">View history</a>
</div>
