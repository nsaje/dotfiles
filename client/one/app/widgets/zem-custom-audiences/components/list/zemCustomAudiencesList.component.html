<div class="zem-custom-audiences-list">
    <div class="loader-container">
        <span class="loader" ng-if="$ctrl.state.requests.list.inProgress && $ctrl.state.audiencesList.length"></span>
        <table class="table table-hover middle-alignment">
            <thead>
                <tr>
                    <th class="arrow">
                        Audience
                        <zem-help-popover content="Audience's name" placement="top"></zem-help-popover>
                    </th>
                    <th class="arrow">
                        Audience ID
                        <zem-help-popover content="Audience's ID" placement="top"></zem-help-popover>
                    </th>
                    <th>
                        Size
                        <zem-help-popover content="Approximate count of all unique users in the audience" placement="top"></zem-help-popover>
                    </th>
                    <th>
                        Added Yesterday
                        <zem-help-popover content="Approximate count of unique users added to the audience yesterday" placement="top"></zem-help-popover>
                    </th>
                    <th>Created</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="6" class="loader-row" ng-if="$ctrl.state.requests.list.inProgress && !$ctrl.state.audiencesList.length">
                        <span class="loader"></span>
                    </td>
                </tr>
                <tr>
                    <td colspan="6" class="text-center" ng-if="!$ctrl.state.requests.list.inProgress && !$ctrl.state.audiencesList.length">
                        No Audiences
                    </td>
                </tr>
                <tr ng-class="{'archived': audience.archived}" ng-repeat="audience in $ctrl.state.audiencesList">
                    <td class="audience-name">
                        {{ audience.name }}
                    </td>
                    <td class="audience-name">
                        {{ audience.id }}
                    </td>
                    <td class="audience-size">
                        {{ audience.count }}
                    </td>
                    <td>
                        {{ audience.countYesterday }}
                    </td>
                    <td>
                        {{ audience.createdDt | date:'MMM d, y h:mm:ss a' }}
                    </td>
                    <td class="action-buttons">
                        <a tabindex="-1" ng-click="$ctrl.openAudienceModal(audience)" href="#" class="button button--small button--with-icon edit-icon">Edit</a>
                        <a tabindex="-1" ng-click="$ctrl.archiveAudience(audience)" ng-if="!audience.archived" href="#" class="button button--small button--with-icon archive-icon" ng-class="{'disabled': $ctrl.state.requests.archive[audience.id].inProgress}">Archive</a>
                        <a tabindex="-1" ng-click="$ctrl.restoreAudience(audience)" ng-if="audience.archived" href="#" class="button button--small button--with-icon archive-icon" ng-class="{'disabled': $ctrl.state.requests.restore[audience.id].inProgress}">Restore</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
