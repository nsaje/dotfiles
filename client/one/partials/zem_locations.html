<div ng-show="selectedLocationCodes !== undefined && selectedLocationCodes.length > 0" class="selected-locations">
    <div class="location-tag" ng-repeat="location in selectedLocations()" ng-click="removeSelectedLocation(location)">
        <span ng-if="location.type === 'D'" class="location-dma">US</span>
        <span class="location-name">
                {{location.name}}
                <img class="remove" ng-src="{{ config.static_url }}/one/img/x_gray.svg">
            </span>
    </div>
</div>

<div ng-if="selectedDMASubsetOfUS && selectedDMASubsetOfUS.length > 0 && selectedUS">Location targeting was changed from <b>{{ selectedDMASubsetOfUS.join(", ") }}</b> to <b>United States</b>. <a href="" ng-click="undo()">Undo?</a></div>
<div ng-if="selectedDMASubsetOfUS && selectedDMASubsetOfUS.length > 0 && !selectedUS">Location targeting was changed from <b>United States</b> to <b>{{ selectedDMASubsetOfUS.join(", ") }}</b>. <a href="" ng-click="undo()">Undo?</a></div>

<div ng-if="warnDMANotSupported"><b>{{ sourcesWithoutDMASupport.join(", ") }} does not support DMA targeting. TODO: Pause or remove</b></div>

<select ui-select2="selectorConfig" ng-model="selectedLocationCode" ng-change="addLocation()" data-placeholder="Add Location">
    <option value=""></option>
    <optgroup label="Countries">
        <option ng-repeat="location in regions.regions | orderBy:'name' | filter: regions.isCountry" value="{{location.code}}">{{location.name}}</option>
    </optgroup>
    <optgroup label="DMAs (United States)">
        <option ng-repeat="location in regions.regions | orderBy:'name' | filter: regions.isDMA" value="{{location.code}}">US: {{location.code}} {{location.name}}</option>
    </optgroup>
</select>
